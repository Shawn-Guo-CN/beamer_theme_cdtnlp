% Copyright (c) 2021 Shawn Guo
% See the file LICENSE for more details.

\mode<presentation>

\setbeamercolor{section in head/foot}{parent=palette quaternary}
\setbeamercolor{subsection in head/foot}{parent=palette primary}

\setbeamercolor{author in head/foot}{parent=palette primary}
\setbeamercolor{title in head/foot}{parent=palette primary}


\usesectionheadtemplate
  {\hfill\insertsectionhead}
  {\hfill\color{fg!50!bg}\insertsectionhead}

\addtobeamertemplate{footline}{}
{
  \leavevmode%
  \hbox{%
    % TODO: update the background clock of the following blocks
    \begin{beamercolorbox}[wd=.9\paperwidth,ht=2.25ex,dp=1ex,left]{author in head/foot}%
        \usebeamerfont{title in head/foot}\insertsection\hspace*{2ex}\insertsubsection
    \end{beamercolorbox}%
    \begin{beamercolorbox}[wd=.1\paperwidth,ht=2.25ex,dp=1ex,right]{date in head/foot}%
        \usebeamerfont{date in head/foot}
        \insertframenumber{} / \inserttotalframenumber\hspace*{2ex} 
    \end{beamercolorbox}
  }%
  \vskip0pt
}

\makeatother

\mode
<all>
